<div class=" margin-node" ng-app="app" ng-controller="nodestructurecontroller as ctrl1">
    <div class="line">

        <div ng-repeat="x in nodes" class="node-add-action">

            <div class="progress-line" ng-if="$index>=1">
                <div class=" node-sm travel-button" ng-model="newObject[x.edge]"
                     ng-click="Flight_buttion_Action(x)">
                    <i class="material-icons">{{edges[$index-1].mode | lowercase}}</i>
                </div>
                <div class="middle-bar"></div>
                <div class="travel-button-action" ng-show="x.flightShow==true">
                    <i class="material-icons" ng-click="change_travel_mode($index-1,'flight')">flight</i>
                    <i class="material-icons" ng-click="change_travel_mode($index-1,'train')">train</i>
                    <i class="material-icons"
                       ng-click="change_travel_mode($index-1,'directions_bus')">directions_bus</i>
                </div>

            </div>

            <div class="node">
                <div class="node-md" ng-click="go('Travelbooking'); node_md_action_show(x)">
                    {{x.city.display
                    | limitTo:3 |
                    uppercase}}
                </div>
                <i class="material-icons node-1-1" ng-click="go('staybooking');">hotel</i>
                <i class="material-icons node-1-2">directions_car</i>
                <div class="node-md-action" style="position: absolute" ng-show="x.show==true">

                    <md-autocomplete class="node-md-action-input" flex="" required=""
                                     md-input-name="autocompleteField"
                                     md-input-minlength="2" md-input-maxlength="18" md-no-cache="ctrl1.noCache"
                                     md-selected-item="node[$index+1].city"
                                     md-search-text="ctrl1.searchText[$index+1]"
                                     md-items="item in ctrl1.querySearch(ctrl1.searchText[$index+1])"
                                     md-item-text="item.display" md-floating-label="Source"
                                     ng-mouseleave="count=true"
                                     ng-hide="count">

                        <md-item-template>
                            <span md-highlight-text="ctrl1.searchText[$index+1]">{{x.city.display}}</span>
                        </md-item-template>
                    </md-autocomplete>

                </div>
            </div>
            <div class=" node-add node" ng-show="$index == nodes.length-1">
                <div class=" glyphicon glyphicon-plus" ng-click="add()"></div>
            </div>
            <div class=" node-add node" ng-show="nodes.length >= 3 && $index == nodes.length-1">
                <div class="glyphicon glyphicon-minus" ng-click="sub()"></div>
            </div>
        </div>
    </div>
</div>
</body>
</html>

<span ng-click="node.show_autocomplete()">{{node.travelelement.essential.noDependencyData.location||'edit'}}</span>
<div ng-show="node.edit==true">
  <custom-input-box class="node-md-action-input"  type="{{node.locationMetaData.type}}" label="{{node.locationMetaData.displayName}}" bind-data="node.travelelement.essential.noDependencyData[node.locationMetaData.id]"
  id="{{node.locationMetaData.id}}" specific-attr="node.locationMetaData.specificAttr"  reflect-custom-input="node.onReflect(keyString,value,id)"></custom-input-box>
</div>
<div class="node" click-outside="node.closeThis(value)" outside-if-not="nodeid,node-md-main-action">
  <div class="node-md" ng-click="node.sendDetailsOfElement(node.currentnode)">
    {{node.travelelement.essential.noDependencyData.location|limitTo:3|uppercase}}
  </div>
  <div class="node-md-child"  ng-repeat="(key,value) in node.locationchildservices">
    <div class="wrapper">
      <!-- Below code is supposed to be changed according to change in ng-repeat -->
      <i class="material-icons childservices" ng-click="node.sendDetailsOfChild(node.currentnode,childId)">{{value.icons}}</i>
      <div class="tooltip" ng-if="node.travelelement.childServices[key]=='' || !node.travelelement.childServices[key]">
        <!-- If that child service exist or not -->
        Please select a {{key}}
      </div>
      <div class="tooltip" ng-if="node.travelelement.childServices[key]">
        <!-- If that child service exist -->
        <div ng-if="key=='stay'">
          <div ng-if="x.state=='initial'">
            Please Fill {{key}} details
          </div>
          <div ng-if="x.state=='request'">
            Requested at {{x.requested.location}} on {{x.requested.checkinDate}}
          </div>
          <div ng-if="x.state=='select'">
            Selected at {{x.selected.location}}  on {{x.selected.checkinDate}}
          </div>
        </div>
        <div ng-if="key=='localTravel'">
          <div ng-if="x.state=='initial'">
            Please Fill {{key}} details
          </div>
          <div ng-if="x.state=='request'">
            Requested from {{x.requested.source }} to {{x.requested.destination}} on {{x.requested.pickupDate}}  at {{x.requested.pickupTime}}
          </div>
          <div ng-if="x.state=='select'">
            Selected from {{x.selected.source }} to {{x.selected.destination}} on {{x.selected.pickupDate}}  at {{x.selected.pickupTime}}
          </div>
        </div>
        <!-- When state is initial then empty tool tip box is shown. NEEDS TO BE IMPLEMENTED -->
      </div>
    </div>
  </div>
</div>
</div>

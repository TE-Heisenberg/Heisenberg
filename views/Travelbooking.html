<div layout="column" ng-cloak class="md-inline-form">
    <md-card>
        <md-card-content>
            <form ng-submit="submit()" class="bidi" ng-cloak>
                <!-- <p>Selected Value: <span class="radioValue">{{ selectedMode }}</span> </p>-->
                <md-radio-group
                        ng-model="$root.travelPlanJSON.edges['edge'+currentIndex].childServices.edgeMode1.request.mode"
                        layout="row" layout-align="center center">
                    <md-radio-button value="flight" class="md-primary">Flight</md-radio-button>
                    <md-radio-button value="train">Train</md-radio-button>
                    <md-radio-button value="directions_bus">Bus</md-radio-button>
                </md-radio-group>
            </form>
        </md-card-content>
    </md-card>
    <md-card>
        <md-card-content>
            <md-content layout-padding>
                <div>
                    <form name="userForm"
                          ng-show="$root.travelPlanJSON.edges['edge'+currentIndex].childServices.edgeMode1.request.mode=='flight'">
                        <div layout-gt-xs="row">

                            <md-autocomplete flex="" required=""
                                             md-input-name="autocompleteField"
                                             md-input-minlength="2"
                                             md-input-maxlength="18"
                                             md-no-cache="ctrl1.noCache"
                                             md-selected-item="$root.travelPlanJSON.nodes['node'+currentIndex].cityName"
                                             md-search-text="ctrl1.searchText"
                                             md-items="item in ctrl1.querySearch(ctrl1.searchText)"
                                             md-item-text="item.display" md-floating-label="Source">

                                <md-item-template>
                                    <span md-highlight-text="ctrl1.searchText">{{item.display}}</span>
                                </md-item-template>
                            </md-autocomplete>
                            <md-autocomplete flex="" required="" md-input-name="autocompleteField"
                                             md-input-minlength="2" md-input-maxlength="18" md-no-cache="ctrl1.noCache"
                                             md-selected-item="$root.travelPlanJSON.nodes['node'+(currentIndex+1)].cityName"
                                             md-search-text="ctrl1.searchText2"
                                             md-items="item in ctrl1.querySearch(ctrl1.searchText2)"
                                             md-item-text="item.display" md-floating-label="Destination">

                                <md-item-template>
                                    <span md-highlight-text="ctrl1.searchText2">{{item.display}}</span>
                                </md-item-template>
                                <!-- <div ng-messages="searchForm.autocompleteField.$error" ng-if="searchForm.autocompleteField.$touched">
                                     <div ng-message="required">You <b>must</b> have a favorite state.</div>
                                     <div ng-message="minlength">Your entry is not long enough.</div>
                                     <div ng-message="maxlength">Your entry is too long.</div>
                                 </div>-->
                            </md-autocomplete>
                            <md-datepicker flex-offset="5" ng-model="edge[currentIndex].date"
                                           md-placeholder="Enter date"></md-datepicker>
                            <md-input-container flex-offset="5">
                                <label>Preferences</label>
                                <md-select ng-model="edge[currentIndex].preference">
                                    <md-optgroup label="Class">
                                        <md-option ng-value="item" ng-repeat="item in flightFilters"> {{item}}
                                        </md-option>
                                    </md-optgroup>
                                </md-select>
                            </md-input-container>
                            <md-input-container flex-offset="5">
                                <md-button class="md-raised md-primary">Confirm</md-button>

                            </md-input-container>
                        </div>
                    </form>
                    <form name="userForm"
                          ng-show="$root.travelPlanJSON.edges['edge'+currentIndex].childServices.edgeMode1.request.mode=='train'">
                        <div layout-gt-xs="row">
                            <md-autocomplete flex="" required="" md-input-name="autocompleteField"
                                             md-input-minlength="2" md-input-maxlength="18" md-no-cache="ctrl1.noCache"
                                             md-selected-item="source" md-search-text="ctrl1.searchText"
                                             md-items="item in ctrl1.querySearch(ctrl1.searchText)"
                                             md-item-text="item.display" md-floating-label="Source">
                                <md-item-template>
                                    <span md-highlight-text="ctrl1.searchText">{{item.display}}</span>
                                </md-item-template>
                            </md-autocomplete>
                            <md-autocomplete flex="" required="" md-input-name="autocompleteField"
                                             md-input-minlength="2" md-input-maxlength="18" md-no-cache="ctrl1.noCache"
                                             md-selected-item="destination" md-search-text="ctrl1.searchText2"
                                             md-items="item in ctrl1.querySearch(ctrl1.searchText2)"
                                             md-item-text="item.display" md-floating-label="Destination">
                                <md-item-template>
                                    <span md-highlight-text="ctrl1.searchText2">{{item.display}}</span>
                                </md-item-template>
                            </md-autocomplete>
                            <md-datepicker flex-offset="5" ng-model="user.myDate"
                                           md-placeholder="Enter date"></md-datepicker>
                            <md-input-container flex-offset="5">
                                <label>Preferences</label>
                                <md-select ng-model="edge[currentEdgeIndex].preference"
                                           md-selected-text="getSelectedText()">
                                    <md-optgroup label="Class">
                                        <md-option ng-value="item" ng-repeat="item in trainFilters"> {{item}}
                                        </md-option>
                                    </md-optgroup>
                                </md-select>
                            </md-input-container>
                            <md-input-container flex-offset="5">
                                <md-button class="md-raised md-primary">Confirm</md-button>
                            </md-input-container>
                        </div>
                    </form>
                    <form name="userForm"
                          ng-show="travelPlanJSON.edges['edge'+currentIndex].childServices.edgeMode1.request.mode=='directions_bus'">
                        <div layout-gt-xs="row">
                            <md-autocomplete flex="" required="" md-input-name="autocompleteField"
                                             md-input-minlength="2" md-input-maxlength="18" md-no-cache="ctrl1.noCache"
                                             md-selected-item="source" md-search-text="ctrl1.searchText"
                                             md-items="item in ctrl1.querySearch(ctrl1.searchText)"
                                             md-item-text="item.display" md-floating-label="Source">
                                <md-item-template>
                                    <span md-highlight-text="ctrl1.searchText">{{item.display}}</span>
                                </md-item-template>
                            </md-autocomplete>
                            <md-autocomplete flex="" required="" md-input-name="autocompleteField"
                                             md-input-minlength="2" md-input-maxlength="18" md-no-cache="ctrl1.noCache"
                                             md-selected-item="destination" md-search-text="ctrl1.searchText2"
                                             md-items="item in ctrl1.querySearch(ctrl1.searchText2)"
                                             md-item-text="item.display" md-floating-label="Destination">
                                <md-item-template>
                                    <span md-highlight-text="ctrl1.searchText2">{{item.display}}</span>
                                </md-item-template>
                            </md-autocomplete>
                            <md-datepicker flex-offset="5" ng-model="user.myDate"
                                           md-placeholder="Enter date"></md-datepicker>
                            <md-input-container flex-offset="5">
                                <label>Preferences</label>
                                <md-select ng-model="edge[currentEdgeIndex].preference"
                                           md-selected-text="getSelectedText()">
                                    <md-optgroup label="Class">
                                        <md-option ng-value="item" ng-repeat="item in busFilters"> {{item}}</md-option>
                                    </md-optgroup>
                                </md-select>
                            </md-input-container>
                            <md-input-container flex-offset="5">
                                <md-button class="md-raised md-primary">Confirm</md-button>
                            </md-input-container>
                        </div>
                    </form>
                </div>
            </md-content>

        </md-card-content>
    </md-card>

</div>
